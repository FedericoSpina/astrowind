---
interface ImageData {
  src: string;
  alt: string;
}

export interface Props {
  images: ImageData[];
}

const { images } = Astro.props;
---

<section class="section slider-section ">
  <div class="container slider-column ">
    <div class="swiper swiper-slider">
      <div class="swiper-wrapper">
        {images.map((image) => (
          <img src={image.src} alt={image.alt} class="swiper-slide rounded-lg bg-white dark:bg-slate-900" />
        ))}
      </div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>
</section>

<!-- ✅ Tailwind and CSS Fixes -->
<style>
  .swiper {
    width: 500px;
    height: 400px;
  }

  .swiper-slide {
    max-width: 100%;
    object-fit: cover;
  }


</style>

<!-- ✅ Move Swiper to Client-Side -->
<script >
  import Swiper from 'swiper/bundle';
  import 'swiper/css/bundle';

  document.addEventListener("DOMContentLoaded", () => {
    new Swiper('.swiper-slider', {
      direction: 'horizontal',
      autoplay: {
        delay: 3000,
        disableOnInteraction: false,
      },
      loop: true,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      
    });
  });
</script>
